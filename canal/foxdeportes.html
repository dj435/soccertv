<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8">
    <title>Video en Smart TV</title>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: black; 
        }

        iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            border: none;
            outline: none;
        }

        #pointer {
            position: absolute;
            width: 30px;
            height: 30px;
            background: red;
            border-radius: 50%;
            z-index: 9999; /* Encima del iframe */
            pointer-events: none; /* No bloquea los clics */
        }
    </style>
</head>

<body>

    <!-- Iframe con el video -->
    <iframe id="videoIframe" 
        frameborder="0" 
        allow="autoplay; encrypted-media" 
        allowfullscreen 
        src="https://skyplustvhd.com/sky2.php?stream=fox_deportes_usa" 
        scrolling="no" 
        tabindex="0">
    </iframe>

    <!-- Puntero virtual -->
    <div id="pointer"></div>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const iframe = document.getElementById("videoIframe");
            const pointer = document.getElementById("pointer");

            // Mantener el foco en el iframe
            iframe.focus();

            // Inicializar posición (aproximada al icono de volumen)
            let posX = window.innerWidth * 0.9; // 90% a la derecha
            let posY = window.innerHeight * 0.9; // 90% abajo
            const step = 20; // Velocidad de movimiento

            // Actualizar posición del puntero
            function updatePointer() {
                pointer.style.left = `${posX}px`;
                pointer.style.top = `${posY}px`;
            }

            updatePointer();

            // Función para verificar las teclas
            function handleKeyPress(e) {
                console.log("Tecla presionada:", e.key);

                switch (e.key) {
                    case "ArrowUp":
                        posY = Math.max(0, posY - step);
                        break;
                    case "ArrowDown":
                        posY = Math.min(window.innerHeight - 30, posY + step);
                        break;
                    case "ArrowLeft":
                        posX = Math.max(0, posX - step);
                        break;
                    case "ArrowRight":
                        posX = Math.min(window.innerWidth - 30, posX + step);
                        break;
                    case "Enter":
                    case "OK":
                        simulateClick();
                        break;
                    default:
                        console.log("Otra tecla detectada:", e.key);
                        break;
                }
                updatePointer();
            }

            // Simular clic en la posición actual del puntero
            function simulateClick() {
                const event = new MouseEvent("click", {
                    clientX: posX,
                    clientY: posY,
                    bubbles: true,
                    cancelable: true
                });
                const target = document.elementFromPoint(posX, posY);
                if (target) {
                    target.dispatchEvent(event);
                    console.log("Clic en:", target);
                } else {
                    console.log("No se encontró un objetivo para hacer clic.");
                }
            }

            // Detectar eventos en diferentes tipos de Smart TVs
            document.addEventListener("keydown", handleKeyPress);
            document.addEventListener("keypress", handleKeyPress);
            document.addEventListener("keyup", handleKeyPress);

            // Reenfocar el iframe cada 3 segundos (prevención de pérdida de foco)
            setInterval(() => iframe.focus(), 3000);
        });
    </script>

</body>

</html>
